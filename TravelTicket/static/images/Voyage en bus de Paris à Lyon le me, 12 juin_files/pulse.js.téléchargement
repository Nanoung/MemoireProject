"use strict";(()=>{function d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var U={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function g(t,e){function n(o,c,s){if(typeof document!="undefined"){s=d({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=o+"="+t.write(c,o)+a}}function r(o){if(!(typeof document=="undefined"||arguments.length&&!o)){for(var c=document.cookie?document.cookie.split("; "):[],s={},a=0;a<c.length;a++){var l=c[a].split("="),I=l.slice(1).join("=");try{var m=decodeURIComponent(l[0]);if(s[m]=t.read(I,m),o===m)break}catch(D){}}return o?s[o]:s}}return Object.create({set:n,get:r,remove:function(o,c){n(o,"",d({},c,{expires:-1}))},withAttributes:function(o){return g(this.converter,d({},this.attributes,o))},withConverter:function(o){return g(d({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var f=g(U,{path:"/"});var i={list:()=>f.get(),get:t=>f.get(t),set:(t,e)=>{let n=window.location.hostname.replace(/(www|shop)\./,"");f.set(t,e,{domain:n,expires:365,path:"/",secure:!0,sameSite:"None"})}};var h={get:t=>"localStorage"in window?window.localStorage.getItem(t):!1,set:(t,e)=>"localStorage"in window?window.localStorage.setItem(t,e):!1};var w=class{constructor(e){this.name=e}init(e=window){let n=i.get(this.name)||h.get(this.name)||Math.floor(Math.random()*10).toString();i.set(this.name,n),h.set(this.name,n),e.abBucket=n}};function _(){return new w("ab_bucket").init(),!0}var u={get:t=>{let e={};return decodeURIComponent(window.location.search).replace(/[?&]+([^=&]+)=([^&]*)/gi,function(n,r,o){return e[r]=o,""}),e[t]}};var p={isHybridFlow:()=>document.location.hostname==="android.shop.flixbus.com"||document.location.hostname==="ios.shop.flixbus.com"};var x=class{constructor(){let e=i.list();this.useFxpDev=i.get("fxp_dev")==="1";let n=Object.keys(e).filter(r=>r.startsWith("cc_override"));this.useOverrides=!!n.length}get src(){if(this.useOverrides){let e=new URL("https://app-experiments.cro.flix.tech/fxp.js"),n=i.list();return Object.keys(n).filter(r=>r.startsWith("cc_override")).forEach(r=>e.searchParams.append(r.replace("cc_override","cc"),n[r])),e.href}else return this.useFxpDev?"https://ab.cro.flixbus.com/fxp_dev.js":"https://ab.cro.flixbus.com/fxp.js"}init(e=document){var o;let n=e.getElementsByTagName("script")[0],r=e.createElement("script");r.defer=!0,r.async=!0,r.src=this.src,(o=n.parentNode)==null||o.insertBefore(r,n)}};function k(){return u.get("cc_disabled")==="1"||i.get("cc_disabled")==="1"||p.isHybridFlow()?!1:(new x().init(),!0)}var v=class{constructor(e){this.rulesetId=e}get language(){switch(window.location.hostname){case"www.flixbus.rs":case"shop.flixbus.rs":return"sr_latn";case"www.flixbus.no":case"shop.flixbus.no":return"no";default:return!1}}init(e=document){var o;let n=e.getElementsByTagName("script")[0],r=e.createElement("script");r.async=!0,r.id="usercentrics-cmp",r.dataset.rulesetId=this.rulesetId,this.language&&(r.dataset.language=this.language),r.src="//app.usercentrics.eu/browser-ui/latest/loader.js",(o=n.parentNode)==null||o.insertBefore(r,n)}};function C(){if(u.get("uc_disabled")==="1"&&i.set("uc_disabled","1"),i.get("uc_disabled")==="1"||u.get("consent")==="false"||u.get("platform")==="app"||p.isHybridFlow()||!(i.get("uc_active")!=="0"))return!1;let e=document.location.hostname.indexOf("greyhound")>-1?"DkhDssQkpLpteU":"v-zUXK991bK4rF";return new v(e).init(),!0}var b=class{constructor(e){this.containerId=e}init(e=window,n=document){var c;e.dataLayer=e.dataLayer||[],e.gtag=function(){e.dataLayer.push(arguments)},e.gtag("consent","default",{ad_user_data:"denied",ad_personalization:"denied",ad_storage:"denied",analytics_storage:"denied",wait_for_update:2e3}),e.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});let r=n.getElementsByTagName("script")[0],o=n.createElement("script");o.defer=!0,o.src=`//www.googletagmanager.com/gtm.js?id=GTM-${this.containerId}`,(c=r.parentNode)==null||c.insertBefore(o,r)}};function j(){return document.location.search.match(/downloadHash=/i)?!1:(new b("QFH9M").init(),!0)}var y=class{constructor(){this.src="//pulse.cro.flixbus.com/static/ge2dl.js"}init(e=document){var o;let n=e.getElementsByTagName("script")[0],r=e.createElement("script");r.defer=!0,r.async=!0,r.src=this.src,(o=n.parentNode)==null||o.insertBefore(r,n)}};function E(){return new y().init(),!0}window.dataLayer=window.dataLayer||[];_();E();k();C();j();})();
