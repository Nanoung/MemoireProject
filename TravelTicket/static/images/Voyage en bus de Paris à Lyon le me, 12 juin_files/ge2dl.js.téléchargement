(()=>{var Oe=Object.create;var ee=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var Ae=Object.getOwnPropertyNames,oe=Object.getOwnPropertySymbols,Be=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var he=(t,e,r)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fe=(t,e)=>{for(var r in e||(e={}))ue.call(e,r)&&he(t,r,e[r]);if(oe)for(var r of oe(e))De.call(e,r)&&he(t,r,e[r]);return t};var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ne=(t,e,r,m)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Ae(e))!ue.call(t,l)&&l!==r&&ee(t,l,{get:()=>e[l],enumerable:!(m=Te(e,l))||m.enumerable});return t};var de=(t,e,r)=>(r=t!=null?Oe(Be(t)):{},Ne(e||!t||!t.__esModule?ee(r,"default",{value:t,enumerable:!0}):r,t));var Y=(t,e,r)=>new Promise((m,l)=>{var _=n=>{try{s(r.next(n))}catch(c){l(c)}},F=n=>{try{s(r.throw(n))}catch(c){l(c)}},s=n=>n.done?m(n.value):Promise.resolve(n.value).then(_,F);s((r=r.apply(t,e)).next())});var xe=z((it,me)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,m){return r<<m|r>>>32-m},rotr:function(r,m){return r<<32-m|r>>>m},endian:function(r){if(r.constructor==Number)return e.rotl(r,8)&16711935|e.rotl(r,24)&4278255360;for(var m=0;m<r.length;m++)r[m]=e.endian(r[m]);return r},randomBytes:function(r){for(var m=[];r>0;r--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(r){for(var m=[],l=0,_=0;l<r.length;l++,_+=8)m[_>>>5]|=r[l]<<24-_%32;return m},wordsToBytes:function(r){for(var m=[],l=0;l<r.length*32;l+=8)m.push(r[l>>>5]>>>24-l%32&255);return m},bytesToHex:function(r){for(var m=[],l=0;l<r.length;l++)m.push((r[l]>>>4).toString(16)),m.push((r[l]&15).toString(16));return m.join("")},hexToBytes:function(r){for(var m=[],l=0;l<r.length;l+=2)m.push(parseInt(r.substr(l,2),16));return m},bytesToBase64:function(r){for(var m=[],l=0;l<r.length;l+=3)for(var _=r[l]<<16|r[l+1]<<8|r[l+2],F=0;F<4;F++)l*8+F*6<=r.length*8?m.push(t.charAt(_>>>6*(3-F)&63)):m.push("=");return m.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],l=0,_=0;l<r.length;_=++l%4)_!=0&&m.push((t.indexOf(r.charAt(l-1))&Math.pow(2,-2*_+8)-1)<<_*2|t.indexOf(r.charAt(l))>>>6-_*2);return m}};me.exports=e})()});var se=z((st,be)=>{var ie={utf8:{stringToBytes:function(t){return ie.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(ie.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r)&255);return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};be.exports=ie});var ke=z((nt,ye)=>{ye.exports=function(t){return t!=null&&(_e(t)||Me(t)||!!t._isBuffer)};function _e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Me(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&_e(t.slice(0,0))}});var ge=z((at,Fe)=>{(function(){var t=xe(),e=se().utf8,r=ke(),m=se().bin,l=function(_,F){_.constructor==String?F&&F.encoding==="binary"?_=m.stringToBytes(_):_=e.stringToBytes(_):r(_)?_=Array.prototype.slice.call(_,0):!Array.isArray(_)&&_.constructor!==Uint8Array&&(_=_.toString());for(var s=t.bytesToWords(_),n=_.length*8,c=1732584193,a=-271733879,h=-1732584194,o=271733878,u=0;u<s.length;u++)s[u]=(s[u]<<8|s[u]>>>24)&16711935|(s[u]<<24|s[u]>>>8)&4278255360;s[n>>>5]|=128<<n%32,s[(n+64>>>9<<4)+14]=n;for(var A=l._ff,B=l._gg,C=l._hh,D=l._ii,u=0;u<s.length;u+=16){var H=c,E=a,O=h,I=o;c=A(c,a,h,o,s[u+0],7,-680876936),o=A(o,c,a,h,s[u+1],12,-389564586),h=A(h,o,c,a,s[u+2],17,606105819),a=A(a,h,o,c,s[u+3],22,-1044525330),c=A(c,a,h,o,s[u+4],7,-176418897),o=A(o,c,a,h,s[u+5],12,1200080426),h=A(h,o,c,a,s[u+6],17,-1473231341),a=A(a,h,o,c,s[u+7],22,-45705983),c=A(c,a,h,o,s[u+8],7,1770035416),o=A(o,c,a,h,s[u+9],12,-1958414417),h=A(h,o,c,a,s[u+10],17,-42063),a=A(a,h,o,c,s[u+11],22,-1990404162),c=A(c,a,h,o,s[u+12],7,1804603682),o=A(o,c,a,h,s[u+13],12,-40341101),h=A(h,o,c,a,s[u+14],17,-1502002290),a=A(a,h,o,c,s[u+15],22,1236535329),c=B(c,a,h,o,s[u+1],5,-165796510),o=B(o,c,a,h,s[u+6],9,-1069501632),h=B(h,o,c,a,s[u+11],14,643717713),a=B(a,h,o,c,s[u+0],20,-373897302),c=B(c,a,h,o,s[u+5],5,-701558691),o=B(o,c,a,h,s[u+10],9,38016083),h=B(h,o,c,a,s[u+15],14,-660478335),a=B(a,h,o,c,s[u+4],20,-405537848),c=B(c,a,h,o,s[u+9],5,568446438),o=B(o,c,a,h,s[u+14],9,-1019803690),h=B(h,o,c,a,s[u+3],14,-187363961),a=B(a,h,o,c,s[u+8],20,1163531501),c=B(c,a,h,o,s[u+13],5,-1444681467),o=B(o,c,a,h,s[u+2],9,-51403784),h=B(h,o,c,a,s[u+7],14,1735328473),a=B(a,h,o,c,s[u+12],20,-1926607734),c=C(c,a,h,o,s[u+5],4,-378558),o=C(o,c,a,h,s[u+8],11,-2022574463),h=C(h,o,c,a,s[u+11],16,1839030562),a=C(a,h,o,c,s[u+14],23,-35309556),c=C(c,a,h,o,s[u+1],4,-1530992060),o=C(o,c,a,h,s[u+4],11,1272893353),h=C(h,o,c,a,s[u+7],16,-155497632),a=C(a,h,o,c,s[u+10],23,-1094730640),c=C(c,a,h,o,s[u+13],4,681279174),o=C(o,c,a,h,s[u+0],11,-358537222),h=C(h,o,c,a,s[u+3],16,-722521979),a=C(a,h,o,c,s[u+6],23,76029189),c=C(c,a,h,o,s[u+9],4,-640364487),o=C(o,c,a,h,s[u+12],11,-421815835),h=C(h,o,c,a,s[u+15],16,530742520),a=C(a,h,o,c,s[u+2],23,-995338651),c=D(c,a,h,o,s[u+0],6,-198630844),o=D(o,c,a,h,s[u+7],10,1126891415),h=D(h,o,c,a,s[u+14],15,-1416354905),a=D(a,h,o,c,s[u+5],21,-57434055),c=D(c,a,h,o,s[u+12],6,1700485571),o=D(o,c,a,h,s[u+3],10,-1894986606),h=D(h,o,c,a,s[u+10],15,-1051523),a=D(a,h,o,c,s[u+1],21,-2054922799),c=D(c,a,h,o,s[u+8],6,1873313359),o=D(o,c,a,h,s[u+15],10,-30611744),h=D(h,o,c,a,s[u+6],15,-1560198380),a=D(a,h,o,c,s[u+13],21,1309151649),c=D(c,a,h,o,s[u+4],6,-145523070),o=D(o,c,a,h,s[u+11],10,-1120210379),h=D(h,o,c,a,s[u+2],15,718787259),a=D(a,h,o,c,s[u+9],21,-343485551),c=c+H>>>0,a=a+E>>>0,h=h+O>>>0,o=o+I>>>0}return t.endian([c,a,h,o])};l._ff=function(_,F,s,n,c,a,h){var o=_+(F&s|~F&n)+(c>>>0)+h;return(o<<a|o>>>32-a)+F},l._gg=function(_,F,s,n,c,a,h){var o=_+(F&n|s&~n)+(c>>>0)+h;return(o<<a|o>>>32-a)+F},l._hh=function(_,F,s,n,c,a,h){var o=_+(F^s^n)+(c>>>0)+h;return(o<<a|o>>>32-a)+F},l._ii=function(_,F,s,n,c,a,h){var o=_+(s^(F|~n))+(c>>>0)+h;return(o<<a|o>>>32-a)+F},l._blocksize=16,l._digestsize=16,Fe.exports=function(_,F){if(_==null)throw new Error("Illegal argument "+_);var s=t.wordsToBytes(l(_,F));return F&&F.asBytes?s:F&&F.asString?m.bytesToString(s):t.bytesToHex(s)}})()});var ve=z(()=>{});var Se=z(()=>{});var we=z((ft,X)=>{(function(){"use strict";var t="input is invalid type",e=typeof window=="object",r=e?window:{};r.JS_SHA256_NO_WINDOW&&(e=!1);var m=!e&&typeof self=="object",l=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?r=global:m&&(r=self);var _=!r.JS_SHA256_NO_COMMON_JS&&typeof X=="object"&&X.exports,F=typeof define=="function"&&define.amd,s=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",n="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],a=[24,16,8,0],h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=["hex","array","digest","arrayBuffer"],u=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}),s&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(i){return typeof i=="object"&&i.buffer&&i.buffer.constructor===ArrayBuffer});var A=function(i,x){return function(y){return new E(x,!0).update(y)[i]()}},B=function(i){var x=A("hex",i);l&&(x=C(x,i)),x.create=function(){return new E(i)},x.update=function(k){return x.create().update(k)};for(var y=0;y<o.length;++y){var p=o[y];x[p]=A(p,i)}return x},C=function(i,x){var y=ve(),p=Se().Buffer,k=x?"sha224":"sha256",f;p.from&&!r.JS_SHA256_NO_BUFFER_FROM?f=p.from:f=function(d){return new p(d)};var v=function(d){if(typeof d=="string")return y.createHash(k).update(d,"utf8").digest("hex");if(d==null)throw new Error(t);return d.constructor===ArrayBuffer&&(d=new Uint8Array(d)),Array.isArray(d)||ArrayBuffer.isView(d)||d.constructor===p?y.createHash(k).update(f(d)).digest("hex"):i(d)};return v},D=function(i,x){return function(y,p){return new O(y,x,!0).update(p)[i]()}},H=function(i){var x=D("hex",i);x.create=function(k){return new O(k,i)},x.update=function(k,f){return x.create(k).update(f)};for(var y=0;y<o.length;++y){var p=o[y];x[p]=D(p,i)}return x};function E(i,x){x?(u[0]=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0,this.blocks=u):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}E.prototype.update=function(i){if(!this.finalized){var x,y=typeof i;if(y!=="string"){if(y==="object"){if(i===null)throw new Error(t);if(s&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!s||!ArrayBuffer.isView(i)))throw new Error(t)}else throw new Error(t);x=!0}for(var p,k=0,f,v=i.length,d=this.blocks;k<v;){if(this.hashed&&(this.hashed=!1,d[0]=this.block,this.block=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0),x)for(f=this.start;k<v&&f<64;++k)d[f>>>2]|=i[k]<<a[f++&3];else for(f=this.start;k<v&&f<64;++k)p=i.charCodeAt(k),p<128?d[f>>>2]|=p<<a[f++&3]:p<2048?(d[f>>>2]|=(192|p>>>6)<<a[f++&3],d[f>>>2]|=(128|p&63)<<a[f++&3]):p<55296||p>=57344?(d[f>>>2]|=(224|p>>>12)<<a[f++&3],d[f>>>2]|=(128|p>>>6&63)<<a[f++&3],d[f>>>2]|=(128|p&63)<<a[f++&3]):(p=65536+((p&1023)<<10|i.charCodeAt(++k)&1023),d[f>>>2]|=(240|p>>>18)<<a[f++&3],d[f>>>2]|=(128|p>>>12&63)<<a[f++&3],d[f>>>2]|=(128|p>>>6&63)<<a[f++&3],d[f>>>2]|=(128|p&63)<<a[f++&3]);this.lastByteIndex=f,this.bytes+=f-this.start,f>=64?(this.block=d[16],this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,x=this.lastByteIndex;i[16]=this.block,i[x>>>2]|=c[x&3],this.block=i[16],x>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var i=this.h0,x=this.h1,y=this.h2,p=this.h3,k=this.h4,f=this.h5,v=this.h6,d=this.h7,g=this.blocks,T,N,P,J,S,U,j,V,Z,Q,G;for(T=16;T<64;++T)S=g[T-15],N=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,S=g[T-2],P=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,g[T]=g[T-16]+N+g[T-7]+P<<0;for(G=x&y,T=0;T<64;T+=4)this.first?(this.is224?(V=300032,S=g[0]-1413257819,d=S-150054599<<0,p=S+24177077<<0):(V=704751109,S=g[0]-210244248,d=S-1521486534<<0,p=S+143694565<<0),this.first=!1):(N=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),P=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),V=i&x,J=V^i&y^G,j=k&f^~k&v,S=d+P+j+h[T]+g[T],U=N+J,d=p+S<<0,p=S+U<<0),N=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),P=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),Z=p&i,J=Z^p&x^V,j=d&k^~d&f,S=v+P+j+h[T+1]+g[T+1],U=N+J,v=y+S<<0,y=S+U<<0,N=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),P=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),Q=y&p,J=Q^y&i^Z,j=v&d^~v&k,S=f+P+j+h[T+2]+g[T+2],U=N+J,f=x+S<<0,x=S+U<<0,N=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),P=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),G=x&y,J=G^x&p^Q,j=f&v^~f&d,S=k+P+j+h[T+3]+g[T+3],U=N+J,k=i+S<<0,i=S+U<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+i<<0,this.h1=this.h1+x<<0,this.h2=this.h2+y<<0,this.h3=this.h3+p<<0,this.h4=this.h4+k<<0,this.h5=this.h5+f<<0,this.h6=this.h6+v<<0,this.h7=this.h7+d<<0},E.prototype.hex=function(){this.finalize();var i=this.h0,x=this.h1,y=this.h2,p=this.h3,k=this.h4,f=this.h5,v=this.h6,d=this.h7,g=n[i>>>28&15]+n[i>>>24&15]+n[i>>>20&15]+n[i>>>16&15]+n[i>>>12&15]+n[i>>>8&15]+n[i>>>4&15]+n[i&15]+n[x>>>28&15]+n[x>>>24&15]+n[x>>>20&15]+n[x>>>16&15]+n[x>>>12&15]+n[x>>>8&15]+n[x>>>4&15]+n[x&15]+n[y>>>28&15]+n[y>>>24&15]+n[y>>>20&15]+n[y>>>16&15]+n[y>>>12&15]+n[y>>>8&15]+n[y>>>4&15]+n[y&15]+n[p>>>28&15]+n[p>>>24&15]+n[p>>>20&15]+n[p>>>16&15]+n[p>>>12&15]+n[p>>>8&15]+n[p>>>4&15]+n[p&15]+n[k>>>28&15]+n[k>>>24&15]+n[k>>>20&15]+n[k>>>16&15]+n[k>>>12&15]+n[k>>>8&15]+n[k>>>4&15]+n[k&15]+n[f>>>28&15]+n[f>>>24&15]+n[f>>>20&15]+n[f>>>16&15]+n[f>>>12&15]+n[f>>>8&15]+n[f>>>4&15]+n[f&15]+n[v>>>28&15]+n[v>>>24&15]+n[v>>>20&15]+n[v>>>16&15]+n[v>>>12&15]+n[v>>>8&15]+n[v>>>4&15]+n[v&15];return this.is224||(g+=n[d>>>28&15]+n[d>>>24&15]+n[d>>>20&15]+n[d>>>16&15]+n[d>>>12&15]+n[d>>>8&15]+n[d>>>4&15]+n[d&15]),g},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var i=this.h0,x=this.h1,y=this.h2,p=this.h3,k=this.h4,f=this.h5,v=this.h6,d=this.h7,g=[i>>>24&255,i>>>16&255,i>>>8&255,i&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,k>>>24&255,k>>>16&255,k>>>8&255,k&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,v>>>24&255,v>>>16&255,v>>>8&255,v&255];return this.is224||g.push(d>>>24&255,d>>>16&255,d>>>8&255,d&255),g},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),x=new DataView(i);return x.setUint32(0,this.h0),x.setUint32(4,this.h1),x.setUint32(8,this.h2),x.setUint32(12,this.h3),x.setUint32(16,this.h4),x.setUint32(20,this.h5),x.setUint32(24,this.h6),this.is224||x.setUint32(28,this.h7),i};function O(i,x,y){var p,k=typeof i;if(k==="string"){var f=[],v=i.length,d=0,g;for(p=0;p<v;++p)g=i.charCodeAt(p),g<128?f[d++]=g:g<2048?(f[d++]=192|g>>>6,f[d++]=128|g&63):g<55296||g>=57344?(f[d++]=224|g>>>12,f[d++]=128|g>>>6&63,f[d++]=128|g&63):(g=65536+((g&1023)<<10|i.charCodeAt(++p)&1023),f[d++]=240|g>>>18,f[d++]=128|g>>>12&63,f[d++]=128|g>>>6&63,f[d++]=128|g&63);i=f}else if(k==="object"){if(i===null)throw new Error(t);if(s&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!s||!ArrayBuffer.isView(i)))throw new Error(t)}else throw new Error(t);i.length>64&&(i=new E(x,!0).update(i).array());var T=[],N=[];for(p=0;p<64;++p){var P=i[p]||0;T[p]=92^P,N[p]=54^P}E.call(this,x,y),this.update(N),this.oKeyPad=T,this.inner=!0,this.sharedMemory=y}O.prototype=new E,O.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),E.prototype.finalize.call(this)}};var I=B();I.sha256=I,I.sha224=B(!0),I.sha256.hmac=H(),I.sha224.hmac=H(!0),_?X.exports=I:(r.sha256=I.sha256,r.sha224=I.sha224,F&&define(function(){return I}))})()});var Pe=(t,e,r=void 0,m=void 0,l="ga_event")=>{window.dataLayer.push({event:l,eventCategory:t,eventAction:e,eventLabel:r,eventProperty:m})},b=Pe;var q={LangSwitcher:(t,e)=>b("CMS",t,e.domainLangcode),TocClicked:(t,e)=>b("CMS",t,e.toc),SearchCards:(t,e)=>b("CMS",t,e.payload.totalNumberOfCardsBuilt),ExplorationMapClicked:(t,e)=>b("CMS",t,void 0,JSON.stringify({cityID:e.payload.cityID,cityName:e.payload.cityName})),ExplorationMapToggle:(t,e)=>b("CMS",t,e.payload.action),ExplorationMapPriceRange:(t,e)=>b("CMS",t,void 0,JSON.stringify({currency:e.payload.currency,maxPrice:e.payload.maxPrice})),miscEvent:t=>b("CMS",t)};var te={ABTests:(t,e)=>{if(!Object.keys(e).length)return!1;Object.keys(e).forEach(r=>{let m=String(r),l=String(e[r]);window.dataLayer.push({event:"ab_cc",ab_cc_id:m,ab_cc_v:l,ab_cc_src:"cat"})})}};var R={fieldChanged:(t,e)=>b("Search Interactions",e.fieldName,e.value),requestSearch:(t,e)=>{let r={ride_date:new Date(e.departureDate*1e3).toISOString().slice(0,10),route:"",adult:e.products.adult||0,children:e.products.children||0,bike_slot:e.products.bike_slot||0};e.departureCity&&(r.departure_city_uuid=e.departureCity),e.arrivalCity&&(r.arrival_city_uuid=e.arrivalCity),e.returnDate&&e.returnDate>0&&(r.back_ride=!0,r.back_ride_date=new Date(e.returnDate*1e3).toISOString().slice(0,10)),b("Search Interactions","submit","Search Button",JSON.stringify(r)),window.dataLayer.push({event:"searchmask.submit"})},nearbyCitySelected:(t,e)=>b("Search Interactions",e.direction,e.isFlixbusCity),fieldOpened:(t,e)=>b("Search Interactions","Field Opened",e.fieldName),fieldClosed:(t,e)=>b("Search Interactions","Field Closed",e.fieldName,JSON.stringify(e.selectedProducts)),citySelected:(t,e)=>{let r={isFlixbusCity:e.isFlixbusCity,isPopular:e.isPopular,isRecent:e.isRecent};b("Search Interactions",t,void 0,JSON.stringify(r))},mapClicked:t=>b("Search Interactions",t),autoSuggest:(t,e)=>{let r={isTrainStation:e.isTrainStation,single_station_city_clicked:e.single_station_city_clicked};b("Search Interactions",t,void 0,JSON.stringify(r))}};var $={currency:void 0},W={},w={resultsVisible:(t,e)=>{let r={};r.availableNearbyCities=!!e.searchInfo.allTrips[0].availableNearbyCities.length,r.nextAvailableDate=!!e.searchInfo.allTrips[0].nextAvailableDate,b("Search Interactions","results.count",Object.keys(e.results).length,JSON.stringify(r));let m=e.tripIndex,l=e.results,_=e.searchInfo,F=O=>Object.keys(O).length+" / "+Object.keys(l).length,s=(O,I)=>O[I]&&O[I].name?O[I].name:"unknown",n=(O,I)=>O[I]&&O[I].slug?O[I].slug:"unknown",c=_.fromCity,a=_.toCity,h=_.currency,o=_.returnDate,u=_.allTrips,A=_.leadTimeOutbound,B=_.leadTimeReturn,C=_.stations,D=Object.values(_.products).reduce((O,I)=>O+I);$.currency=h;let H=u.length>1?u[1].results:!1,E=10;for(let O=0;O<l.length;O+=E){let I=l.slice(O,O+E);window.dataLayer.push({"ecommerce.impressions":void 0}),window.dataLayer.push({event:"productImpressions",origin:c.name,destination:a.name,results:F(I),returnSearch:o?"return":"oneway",returnResults:H?F(H):void 0,city_from_id:c.legacyId,city_to_id:a.legacyId,leadtimeDaysDirect:A,leadtimeDaysReturn:B,ecommerce:{currencyCode:h,impressions:Object.keys(I).map(i=>I[i]).map(i=>{let x=i.legs,y=new Date,p=new Date(i.departure.date),k=o?m===0?"return_there":"return_back":"oneway",f={};f.cheapest=!!(i.labels&&i.labels.includes("cheapest")),f.fastest=!!(i.labels&&i.labels.includes("fastest")),i.remaining&&i.remaining.capacity&&(f.capacity=i.remaining.capacity),i.remaining&&i.remaining.seatsLeftAtPrice&&(f.seatsLeftAtPrice=i.remaining.seatsLeftAtPrice),i.remaining&&i.remaining.seats&&(f.seats=i.remaining.seats),f.transferTypeKey=i.transferTypeKey,f.status=i.status,f.operator=x.map(d=>{var g;return(g=d.operator)==null?void 0:g.name}).join("#"),f.vehicle=x.map(d=>{var g;return(g=d.vehicle)==null?void 0:g.vehicle}).join("#"),f.brands=x.map(d=>{var g;return(g=d.brand)==null?void 0:g.name}).join("#"),f.legs=x.length,f.duration=i.duration.hours*60+i.duration.minutes,i.intermediateStationsCount>=0&&(f.stops=i.intermediateStationsCount),f.bikeSlots=i.available.bikeSlots;let v={id:i.uid,name:[n(C,i.departure.stationId),n(C,i.arrival.stationId)].join("#"),price:(+i.price.total).toFixed(2),origin:s(C,i.departure.stationId),destination:s(C,i.arrival.stationId),provider:i.provider,transferType:i.transferTypeKey,duration:i.duration.hours*60+i.duration.minutes,leadtime:Math.floor(Math.abs(p-y)/(1e3*60*60)),leadtimeDays:Math.floor(Math.abs(p-y)/(1e3*60*60*24)),connectionType:i.legs.length>1?i.legs.length-1+" changes":"direct",returnType:k,utilization:"0",station_from_slug:n(C,i.departure.stationId),station_to_slug:n(C,i.arrival.stationId),labels:JSON.stringify(f),quantity:D,departure:i.departure.date,arrival:i.arrival.date};return W[v.id]=v,v})}})}},tripDetails:(t,e)=>{if(!W[e.id])return!1;window.dataLayer.push({"ecommerce.detail":void 0});let r=W[e.id];window.dataLayer.push({event:"productDetail",ecommerce:{currencyCode:$.currency,detail:{products:[r]}}})},tripSelected:(t,e)=>{if(!W[e.tripUid])return!1;window.dataLayer.push({"ecommerce.add":void 0});let r=W[e.tripUid],m=fe({},JSON.parse(r.labels));m.cheapest=!!(e.isTripCheapestFastest&&e.isTripCheapestFastest.isCheapest),m.fastest=!!(e.isTripCheapestFastest&&e.isTripCheapestFastest.isFastest),m.reservationId=""+e.reservationId,r.labels=JSON.stringify(m),r.buttonLocation=e.buttonLocation,window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:$.currency,add:{products:[r]}}})},tripUnselected:(t,e)=>{if(!W[e.tripUid])return!1;window.dataLayer.push({"ecommerce.remove":void 0}),window.dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:$.currency,remove:{products:[W[e.tripUid]]}}})},filtersSet:(t,e)=>{b("Search Interactions",t,typeof e.filterValue=="string"?`${e.filterName}: ${e.filterValue}`:e.filterName,JSON.stringify({visibleResults:e.visibleResults}))},sortingApplied:(t,e)=>b("Search Interactions",t,e.value),tripShare:(t,e)=>b("Search Interactions",t,e),stationDetails:(t,e)=>b("Search Interactions",t,e.emmittedFrom),miscEvent:t=>b("Search Interactions",t),newdateSelected:(t,e)=>{function r(_){let F=_.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/);return F?new Date(F[3],F[2]-1,F[1]):null}let m=r(e.newDate)-r(e.originalDate),l=Math.ceil(m/(1e3*60*60*24));b("Search Interactions","newDateSelected",l)},showOverlay:(t,e)=>b("Search Interactions",t,e.id),timeToResults:(t,e)=>b("Search Interactions",t,Math.round(e.time)),brandPillDetails:(t,e)=>b("Search Interactions",t,e.brand.name),tripCardElement:(t,e)=>b("Search Interactions",t,e.name),expirationPopUp:(t,e)=>b("Search Interactions","bottom_sheet_open",e.element),sideMapShown:(t,e)=>b("Search Interactions",t+"."+e.cityName+"."+e.direction,e.numberOfStops),sideMapClicked:(t,e)=>b("Search Interactions",t+"."+e.cityName+"."+e.direction,e.clickedElement)};var M={init:(t,e)=>{let r=e.payload.cart.items,m=e.payload.passengers,l=!1;r.forEach(s=>{if(!s.product.trip||!s.product.trip.rides)return!0;s.product.trip.rides.forEach(n=>{if(!n.type)return!0;n.type.indexOf("train")>-1&&(l=!0)})}),b("Checkout","contains.train",l);let _={};m.forEach(function(s){s.type in _||(_[s.type]=0),_[s.type]++}),b("Checkout","passengers.length",void 0,JSON.stringify(_));let F=["platformFee","bike"];window.dataLayer.push({event:"checkoutTest",ecommerce:{checkout:{actionField:{step:1},products:Object.keys(r).map(s=>r[s]).map(s=>{let n;if(s.product.type==="ticket"){let c=new Date,a=new Date(s.product.trip.departure);n={type:s.product.type,passengerType:s.product.passengerType,connectionType:s.product.trip.type,departureDate:s.product.trip.departure,destination:s.product.trip.destination.name,duration:"",id:s.product.trip.id,leadtime:Math.floor(Math.abs(a-c)/(1e3*60*60)),leadtimeDays:Math.floor(Math.abs(a-c)/(1e3*60*60*24)),name:le(s.product.trip.start.name)+"#"+le(s.product.trip.destination.name),origin:s.product.trip.start.name,price:parseFloat(parseFloat(s.price.amount).toFixed(2)),quantity:0,reduced:"",transferType:s.product.trip.type,utilization:0}}else F.includes(s.product.type)?n={id:s.id,name:s.product.type,price:parseFloat(parseFloat(s.price.amount).toFixed(2))}:n={id:s.id,type:s.product.type,price:parseFloat(parseFloat(s.price.amount).toFixed(2))};return n})},currencyCode:e.payload.cart.currency}})},submitInvalid:(t,e)=>{Object.keys(e.payload.errors).forEach(r=>{switch(r){case"passengers":e.payload.errors[r].forEach(m=>{if(!m)return!0;Object.keys(m).forEach(l=>b("Checkout",t,r+"."+l))});break;case"contact":Object.keys(e.payload.errors[r]).forEach(m=>b("Checkout",t,r+"."+m));break;default:b("Checkout",t,r);break}}),b("Checkout","checkout.submit_click","invalid",JSON.stringify(e.payload.errors))},submit:()=>b("Checkout","checkout.submit_click","valid"),seatLegend:(t,e)=>b("Checkout",t,e.payload.category),seatLegendLoaded:(t,e)=>b("Checkout",t,void 0,e.payload.category.map(r=>r.key)),overlayClose:(t,e)=>b("Checkout",t,e.button,JSON.stringify({has_seat_selected:e.has_seat_selected})),miscEvent:t=>b("Checkout",t),genderChange:(t,e)=>b("Checkout",t,e.payload.value),seatTile:(t,e)=>b("Checkout",t,e.tile),tripCardStation:(t,e)=>b("Checkout",t+"."+e.payload[1],e.payload[0]),tripPanelOpen:(t,e)=>b("Checkout",t,e.payload[1],e.payload[0]),tripPanelTab:(t,e)=>b("Checkout",t,e.payload[0])},le=t=>{let e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e=e.replace(/[^a-zA-Z0-9/_| -]/g,""),e=e.toLowerCase().trim(),e=e.replace(/[/_| -]+/g,"-"),e};var K={productImpression:(t,e)=>{window.dataLayer.push({"ecommerce.impressions":void 0}),e.data.forEach(r=>{window.dataLayer.push({event:"productImpressions",ecommerce:{currencyCode:r.currency,impressions:[{id:r.id,name:r.type||e.product,price:(+r.price).toFixed(2),quantity:+r.quantity,labels:JSON.stringify({ticketId:r.ticket_id,orderId:e.orderId})}]}})})},productDetail:(t,e)=>{window.dataLayer.push({"ecommerce.detail":void 0}),e.data.forEach(r=>{window.dataLayer.push({event:"productDetail",ecommerce:{currencyCode:r.currency,detail:{products:[{id:r.id,name:r.type||e.product,price:(+r.price).toFixed(2),quantity:+r.quantity,labels:JSON.stringify({ticketId:r.ticket_id,orderId:e.orderId})}]}}})})},productAdd:(t,e)=>{window.dataLayer.push({"ecommerce.add":void 0}),e.data.forEach(r=>{window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:r.currency,add:{products:[{id:r.id,name:r.type||e.product,price:(+r.price).toFixed(2),quantity:+r.quantity,labels:JSON.stringify({ticketId:r.ticket_id,orderId:e.orderId})}]}}})})},productRemove:(t,e)=>{window.dataLayer.push({"ecommerce.remove":void 0}),e.data.forEach(r=>{window.dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:r.currency,remove:{products:[{id:r.id,name:r.type||e.product,price:(+r.price).toFixed(2),quantity:+r.quantity,labels:JSON.stringify({ticketId:r.ticket_id,orderId:e.orderId})}]}}})})}};var re=null,L={PaymentSelection:(t,e)=>{b("Payments",t,e.id),re=e.id},PrePaymentSelection:(t,e)=>{b("Payments",t,e.id||"none"),re=e.id},PaymentSubmit:()=>b("Payments","payments.submit",re),SavePaymentMethod:(t,e)=>b("Payments",t,e.paymentMethodId,e.toSave?"saved":"unsaved"),ProcessingFailed:(t,e)=>b("Payments","Payment Error",e.errorCode,JSON.stringify(e.featureFlags)),CardBrandRejected:(t,e)=>b("Payments","Card Rejected",e.brand),miscEvent:t=>b("Payments",t)};var pe={WaitingPaymentRedirect:(t,e)=>{var m,l;if(((m=e.result)==null?void 0:m.status)!=="redirect")return;let r=(l=e.result)!=null&&l.orderId?e.result.orderId.toString():void 0;b("Waiting",t,r)}};var Ie=de(ge());var Ee=de(we());var Ce="_transaction_ids",Re=365,Le=t=>{if(window.Storage)return window.localStorage.getItem(t);{let r=("; "+document.cookie).split("; "+t+"=");if(r.length===2)return r.pop().split(";").shift()}},Je=(t,e,r)=>{if(window.Storage)window.localStorage.setItem(t,e);else{let m=new Date;m.setDate(m.getDate()+r),document.cookie=t+"="+e+";expires="+m.toUTCString()}},ne={Success:(t,e)=>Y(void 0,null,function*(){let r=JSON.parse(Le(Ce)||"[]");if(r.indexOf(e.id)>-1)return!1;window.dataLayer.push({"ecommerce.purchase":void 0});let m=e.payments[0].currency,l={affiliation:e.payments[0].method_title,billingType:"private",coupon:e.discount>0?"Coupon "+e.promocodes.join(","):"no",customerId:(0,Ie.default)(e.customer_email?e.customer_email:e.id).toLowerCase(),id:e.id,promotion:"no",revenue:(+e.value).toFixed(2),shipping:0,tax:e.taxes,grand_total:e.grand_total,email:e.customer_email?(0,Ee.default)(e.customer_email):null},_=[];for(let s in e.items){let n=e.items[s],c={id:n.trip_uid,name:n.stations.from.name+" - "+n.stations.to.name,price:+(n.total.gross/n.qty).toFixed(2),reduced:"no",origin:n.stations.from.name,destination:n.stations.to.name,departureDate:n.stations.from.departure.substr(0,10).replace(/-/gi,""),transferType:n.transfer_type_key,connectionType:n.transfers.length>1?n.transfers.length-1+" change":"direct",utilization:0,quantity:n.qty,station_from_slug:n.stations.from.slug,station_to_slug:n.stations.to.slug,city_from_id:n.stations.from.city_id,city_to_id:n.stations.to.city_id,city_from_name:n.stations.from.city_name,city_to_name:n.stations.to.city_name};_.push(c)}window.dataLayer.push({event:"purchase",ecommerce:{currencyCode:m,purchase:{actionField:l,products:_,payments:e.payments}}}),b("Booking","contains.seats","premium_seat"in e.total_by_places);let F=[];Object.keys(e.items).forEach(s=>e.items[s].transfers.forEach(n=>F.push(n))),F=F.filter((s,n,c)=>c.indexOf(s)===n),b("Booking","contains.transfer_types",F.join(" ")),r.push(e.id),Je(Ce,JSON.stringify(r),Re)}),miscEvent:t=>b("Booking Interactions",t)};var ae={Click:(t,e)=>b("Rebooking Interactions","click",e.element),miscEvent:t=>b("Rebooking Interactions",t)};var ce=(t,e)=>Y(void 0,null,function*(){try{switch(t){case"cms.navigation.language_switcher.clicked":q.LangSwitcher(t,e);break;case"cms.city.toc.clicked":q.TocClicked(t,e);break;case"cms.connection.search_cards.built":q.SearchCards(t,e);break;case"cms.exploration_map.departure_city.click":case"cms.exploration_map.arrival_city.click":q.ExplorationMapClicked(t,e);break;case"cms.exploration_map.price_toggle.click":q.ExplorationMapToggle(t,e);break;case"cms.exploration_map.price_range.change":q.ExplorationMapPriceRange(t,e);break;case"robotnik.ab_test_flags":te.ABTests(t,e);break;case"cms.ab_test_flags":te.ABTests(t,e);break;case"search.search-mask.field-changed":R.fieldChanged(t,e);break;case"search.search-mask.request-search":R.requestSearch(t,e);break;case"search.search-mask.nearby_city_selected":R.nearbyCitySelected(t,e);break;case"search.search-mask.field-opened":R.fieldOpened(t,e);break;case"search.search-mask.field-closed":R.fieldClosed(t,e);break;case"search.search-mask.city_selected":R.citySelected(t,e);break;case"search.search-mask.map_clicked":R.mapClicked(t);break;case"search.search-mask.auto_suggest_click":R.autoSuggest(t,e);break;case"search.results.results_visible":w.resultsVisible(t,e);break;case"search.results.trip_selected":w.tripSelected(t,e);break;case"search.results.trip_unselected":w.tripUnselected(t,e);break;case"search.results.trip_details_opened":w.tripDetails(t,e);break;case"search.results.trip_removed_from_cart":w.tripUnselected(t,e);break;case"search.results.filters_set":w.filtersSet(t,e);break;case"search.results.sorting_applied":w.sortingApplied(t,e);break;case"search.results.trip_share_popup":w.tripShare(t,e);break;case"search.results.trip_share_copy":w.tripShare(t,e);break;case"search.results.trip_share_unavailable":w.tripShare(t,e);break;case"search.results.other_date_selected":w.newdateSelected(t,e);break;case"search.results.show_overlay":w.showOverlay(t,e);break;case"search.results.time_to_results":w.timeToResults(t,e);break;case"search.previous-page":w.miscEvent(t,e);break;case"search.edit-relations":w.miscEvent(t,e);break;case"search.edit-button":w.miscEvent(t,e);break;case"search.results.station_detail_opened":w.stationDetails(t,e);break;case"search.results.station_info_click":w.miscEvent(t,e);break;case"search.results.station_info_copy_click":w.miscEvent(t,e);break;case"search.results.brand_detail_opened":w.brandPillDetails(t,e);break;case"search.results.tripcard_element_clicked":w.tripCardElement(t,e);break;case"search.results.expired_reservation_popup_clicked":w.expirationPopUp(t,e);break;case"search.results.map_shown":w.sideMapShown(t,e);break;case"search.results.map_clicked":w.sideMapClicked(t,e);break;case"checkout.init":M.init(t,e);break;case"checkout.submit_invalid":M.submitInvalid(t,e),L.PaymentSubmit();break;case"checkout.submit":M.submit(t,e),L.PaymentSubmit();break;case"passenger.gender.change":M.genderChange(t,e);break;case"checkout.station_address.map_icon.click":M.tripCardStation(t,e);break;case"checkout.trip_panel.open.click":M.tripPanelOpen(t,e);break;case"checkout.trip_panel.trip_type_tab.click":M.tripPanelTab(t,e);break;case"checkout.ancillaries.impression":case"mmb.ancillaries.impression":K.productImpression(t,e);break;case"checkout.ancillaries.details":case"mmb.ancillaries.details":K.productDetail(t,e);break;case"checkout.ancillaries.add":case"mmb.ancillaries.add":K.productAdd(t,e);break;case"mmb.ancillaries.remove":case"checkout.ancillaries.remove":K.productRemove(t,e);break;case"checkout.ancillaries.seatmap_panel_close":M.overlayClose(t,e);break;case"checkout.ancillaries.seat_tile_click":M.seatTile(t,e);break;case"ant.seat_legend.click":M.seatLegend(t,e);break;case"ant.seat_legend.loaded":M.seatLegendLoaded(t,e);break;case"payments.payment_selection.payment_method_selected":L.PaymentSelection(t,e);break;case"payments.payment_selection.payment_method_preselected":L.PrePaymentSelection(t,e);break;case"payments.payment.processing_failed":L.ProcessingFailed(t,e);break;case"payments.payment_selection.save_payment_method":L.SavePaymentMethod(t,e);break;case"payments.adyen.card_brand_rejected":L.CardBrandRejected(t,e);break;case"payments.payment_selection.is_loaded":break;case"payments.payment_selection.payment_is_ready":break;case"payments.payment_selection.checking_apple_availability_start":break;case"payments.payment_selection.checking_apple_availability_end":break;case"payments.adyen.risk_data_ready":break;case"waiting.payment.redirect":pe.WaitingPaymentRedirect(t,e);break;case"booking.success":yield ne.Success(t,e);break;case"rebooking.click":ae.Click(t,e);break;default:t.match(/^cms./)&&q.miscEvent(t),t.match(/^search.(results|search-mask)./)&&w.miscEvent(t,e),t.match(/^(passenger|contact|checkout|voucher|expiration|reminder|ancillaries|ant|invoice|cart)/)&&!t.match(/(\.change)$/)&&M.miscEvent(t,e),t.match(/^booking.success./)&&ne.miscEvent(t,e),t.match(/^(mmb)/)&&ae.miscEvent(t),t.match(/^(payments)/)&&L.miscEvent(t);break}}catch(r){console.error(r)}});(()=>{let t=()=>window.globalEvents.onAny((l,_)=>ce(l,_)),e=()=>{if(!window.globalEventsCache||!window.globalEventsCache.length)return!1;window.globalEventsCache.forEach(l=>ce(l.name,l.payload[0]))},m=setInterval(()=>{typeof window.globalEvents=="object"&&(window.dataLayer=window.dataLayer||[],clearInterval(m),t(),e())},200)})();})();
