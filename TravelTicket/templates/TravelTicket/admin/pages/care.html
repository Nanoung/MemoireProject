<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Types de Cars</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">    
<style>
        .avantage-item {
            transition: all 0.3s ease;
        }
        .avantage-item:hover {
            background-color: #f8f9fa;
        }
        #avantageForm {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }      .select2-container--default .select2-selection--multiple {
            min-height: 50px;
            padding: 5px;
        }
        .select2-container--default .select2-selection--multiple .select2-selection__choice {
            background-color: #e9f5ff;
            border-color: #f6ea80;
            color: #747b29;
            padding: 0 8px;
            margin-top: 5px;
            border-radius: 10px;
        }
        .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
            color: #0d6efd;
            margin-right: 5px;
        }
        #avantageForm {
            display: none;
            margin-top: 10px;
            padding: 1px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }



    </style>
</head>
<body>
    <div class="container py-5">
        <div class="card shadow">
            <div class="card-header bg-white text-warning mb-2 p-2 border-2 border-warning shadow">
                <h6><i class="bi bi-bus-front me-2"></i>Nouveau Car</i></h6>
            </div>
            <div class="card-body">
                <form id="car">
                     <div class="row">
                        <div class="mb-4 col-md-4">
                            <label for="immatriculation" class="form-label fw-bold">Immatriculation</label>
                            <input type="text" class="form-control form-control" id="immatriculation" required 
                                placeholder="Ex: CIAA33444FFA">
                        </div>
                         <div class="mb-4 col-md-4">
                            <label for="model" class="form-label fw-bold">Model</label>
                            <input type="text" class="form-control form-control" id="model" required 
                                placeholder="Ex: BMW">
                        </div>

                        <div class="mb-4 col-md-4">
                            <label for="couleur" class="form-label fw-bold">Couleur</label>
                            <select type="text" class="form-control" id="couleur" name="couleur" rows="3"
                                    placeholder="">
                                    <option value="rouge">Rouge</option>
                                    <option value="vers" >Vert</option>
                                    <option value="orange">orange</option>

                            </select>
                        </div>
                        
                    </div>
                    <div class="row">
                        <div class="mb-4 col-md-6">
                            <label for="typecar" class="form-label fw-bold">Type Car</label>
                            <select class="form-control" id="typecar" name="typecar" rows="3"
                                    placeholder="">
                                    <option value="rouge">VIP</option>
                                    <option value="vers" >Standard</option>
                                    <option value="orange">Ordinaire</option>

                            </select>
                        </div>
                        <div class="mb-4 col-md-6">
                            <label for="capacite" class="form-label fw-bold">Capacité</label>
                            <input type="number" class="form-control form-control" id="capacite" required>
                        </div>


                    </div>

                    

                    <!-- Formulaire d'ajout d'avantage (caché par défaut) -->
                    
                <!-- </div> -->


                    <!-- Bouton de soumission -->
                    <div class="d-grid">
                        <button type="submit" class="btn btn-outline-warning  btn-sm">
                            <i class="fas fa-save me-2"></i>Enregistrer le Type de Car
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Section Filtre et Affichage -->
        <div class="row">
            <div class="col-12">
                <div class="filter-section p-2">
                    <h6 class="mb-4 p-0"><i class="fas fa-filter me-1"></i>Par villes</h6>
                    <div class="row">
                        <div class="col-md-4 mb-3 " style="position: relative; top: -25px;">
                            <input type="text" class="form-control" id="searchCity" placeholder="Rechercher par nom...">
                        </div>
                       
                    </div>
                </div>
                
                <!-- Liste des Villes -->
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>Nom</th>
                                <th>Région</th>
                                <th>Commune</th>
                                <th>Gare</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="citiesList">
                            <tr class="city-card">
                                <td>Abidjan</td>
                                <td>Abobo</td>
                                <td>Oui</td>
                                <td>paris</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary me-2">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </td>
                            </tr>

                            <tr class="city-card">
                                <td>Abidjan</td>
                                <td>Abobo</td>
                                <td>Oui</td>
                                <td>paris</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary me-2">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </td>
                            </tr>
                            


                            <!-- Les villes seront ajoutées ici dynamiquement -->
                            <tr>
                                <td colspan="5" class="text-center text-muted">Aucune ville enregistrée</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- <script>
        $(document).ready(function() {
            const avantages = []; // Stocke les avantages temporaires
            
            // Afficher/masquer le formulaire d'avantage
            $('#showAvantageFormBtn').click(function() {
                $('#avantageForm').slideDown(300);
                $(this).prop('disabled', true);
            });
            
            $('#cancelAvantageBtn').click(function() {
                $('#avantageForm').slideUp(300);
                $('#showAvantageFormBtn').prop('disabled', false);
                $('#avantageForm input').val('');
            });
            
            // Ajouter un avantage
            $('#addAvantageBtn').click(function() {
                const nom = $('#avantageNom').val();
                const icone = $('#avantageIcone').val();
                
                if (nom) {
                    avantages.push({ nom, icone });
                    updateAvantagesList();
                    
                    // Réinitialiser et cacher le formulaire
                    $('#avantageForm').slideUp(300);
                    $('#avantageForm input').val('');
                    $('#showAvantageFormBtn').prop('disabled', false);
                } else {
                    alert('Veuillez saisir un nom pour l\'avantage');
                }
            });
            
            // Mettre à jour la liste visuelle
            function updateAvantagesList() {
                if (avantages.length === 0) {
                    $('#noAvantageMsg').show();
                    return;
                }
                
                $('#noAvantageMsg').hide();
                $('#avantagesList').html('');
                
                avantages.forEach((avantage, index) => {
                    $('#avantagesList').append(`
                        <div class="list-group-item avantage-item d-flex justify-content-between align-items-center">
                            <div>
                                <i class="${avantage.icone} me-2"></i>
                                ${avantage.nom}
                            </div>
                            <button class="btn btn-sm btn-outline-danger remove-avantage" data-index="${index}">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    `);
                });
            }
            
            // Supprimer un avantage
            $(document).on('click', '.remove-avantage', function() {
                const index = $(this).data('index');
                avantages.splice(index, 1);
                updateAvantagesList();
            });
            
            // Soumission du formulaire principal
            $('#typeCarForm').submit(function(e) {
                e.preventDefault();
                
                const typeCar = {
                    titre: $('#titre').val(),
                    description: $('#description').val(),
                    avantages: [...avantages]
                };
                
                // Ici: Envoyer les données au serveur
                console.log('Données à envoyer:', typeCar);
                alert('Type de car enregistré avec succès!');
                
                // Réinitialisation
                this.reset();
                avantages.length = 0;
                updateAvantagesList();
            });
        });
       
    </script> -->
    <!-- <script>
        $(document).ready(function() {
            // Initialisation de Select2 avec formatage des options
            $('#avantagesSelect').select2({
                templateResult: formatOption,
                templateSelection: formatOption,
                placeholder: "Sélectionnez des avantages",
                allowClear: true
            });

            function formatOption(option) {
                if (!option.id) return option.text;
                const icon = $(option.element).data('icon');
                return $('<span><i class="' + icon + ' me-2"></i>' + option.text + '</span>');
            }

            // Gestion du formulaire d'ajout d'avantage
            $('#showAvantageFormBtn').click(function() {
                $('#avantageForm').slideDown();
                $(this).hide();
            });

            $('#cancelAvantageBtn').click(function() {
                $('#avantageForm').slideUp();
                $('#showAvantageFormBtn').show();
                $('#avantageNom').val('');
            });

            $('#addAvantageBtn').click(function() {
                const nom = $('#avantageNom').val();
                const icone = $('#avantageIcone').val();
                
                if (nom) {
                    // Crée une nouvelle option
                    const value = nom.toLowerCase().replace(/\s+/g, '-');
                    const newOption = new Option(nom, value, false, true);
                    $(newOption).data('icon', icone);
                    
                    // Ajoute à Select2
                    $('#avantagesSelect').append(newOption).trigger('change');
                    
                    // Réinitialise le formulaire
                    $('#avantageForm').slideUp();
                    $('#showAvantageFormBtn').show();
                    $('#avantageNom').val('');
                }
            });

            // Soumission du formulaire principal
            $('#typeCarForm').submit(function(e) {
                e.preventDefault();
                const selected = $('#avantagesSelect').val();
                console.log('Avantages sélectionnés:', selected);
                alert('Type de car enregistré avec succès!');
            });
        });
    </script> -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


</body>
</html>