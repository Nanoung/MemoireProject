{% extends "../voyage/base/basehome.html" %}
{% block title %}Accueil - TravelTickets{% endblock %}


{% block content %}
<div class="container " style="width: 90%;">
      <div class="container " style="margin-top: 45vh;">
          <div class="container my-5">
              <div class="search-card bg-white rounded-4 shadow p-4">
                  <form method="post" class="trajet-form" action="{% url 'voyage_disponible' %}">
                  {% csrf_token %}           
                
                      <div class="d-flex border rounded overflow-hidden" style="width: fit-content;">
                        {% for radio in form.voyage_type %}
                            <div>
                                {{ radio.tag }}
                                <label class="btn p-2 px-3 text-center voyage-type-btn" for="{{ radio.id_for_label }}">
                                    <i class="bi {% if radio.choice_label == 'Aller simple' %}bi-arrow-right{% else %}bi-arrow-left-right{% endif %} me-1"></i>
                                    {{ radio.choice_label }}
                                </label>
                            </div>
                        {% endfor %}
                    </div>

                  
                  <div class="d-flex align-items-end gap-2 ">
                      <!-- Ligne de recherche principale -->
                      <div class="d-flex align-items-end gap-2 mb-3  w-100">
                          <!-- Départ -->
                          <div class="flex-grow-1 position-relative">
                              <label class="form-label small text-muted mb-1">{{ form.adress_depart.label }}</label>
                              <div class="input-group">
                                  <span class="input-group-text bg-white border-end-0 ps-3">
                                      <i class="bi bi-geo-alt-fill text-primary"></i>
                                  </span>
                                  {{ form.adress_depart }}
                              </div>
                              {% if form.adress_depart.errors %}
                                  <div class="invalid-feedback d-block">
                                      {{ form.adress_depart.errors|join:", " }}
                                  </div>
                              {% endif %}
                          </div>
                          
                          <!-- Bouton d'échange -->
                          <div class="exchange-btn">
                              <button type="button" class="btn btn-light rounded-circle p-2 border exchange-button">
                                  <i class="bi bi-arrow-left-right text-muted"></i>
                              </button>
                          </div>
                          
                          <!-- Arrivée -->
                          <div class="flex-grow-1" >

                              <label class="form-label small text-muted mb-1">{{ form.adress_arrivee.label }}</label>
                              <div class="input-group">
                                  <span class="input-group-text bg-white border-end-0 ps-3">
                                      <i class="bi bi-geo-alt-fill text-danger"></i>
                                  </span>
                                  {{ form.adress_arrivee }}
                              </div>
                              {% if form.adress_arrivee.errors %}
                                  <div class="invalid-feedback d-block">
                                      {{ form.adress_arrivee.errors|join:", " }}
                                  </div>
                              {% endif %}
                          </div>
                      </div>

                      <!-- Ligne secondaire -->
                      <div class="d-flex align-items-end gap-2  mb-3 w-100">
                        
                          <!-- Date départ -->
                          <div class="flex-grow-1">
                              <label class="form-label small text-muted mb-0">{{ form.date_depart.label }}</label>
                              <div class="input-group py-0">
                                  <span class="input-group-text bg-white border-end-0 ps-3">
                                      <i class="bi bi-calendar3"></i>
                                  </span>
                                  {{ form.date_depart }}
                              </div>
                              {% if form.date_depart.errors %}
                                  <div class="invalid-feedback d-block">
                                      {{ form.date_depart.errors|join:", " }}
                                  </div>
                              {% endif %}
                          </div>
                          
                        <!-- Date retour (conditionnelle) -->
                          <div class="flex-grow-1" id="retour-field" style="display: none;">
                              <label class="form-label small text-muted mb-1">{{ form.date_retour.label }}</label>
                              <div class="input-group py-0">
                                  <span class="input-group-text bg-white border-end-0 ps-3">
                                      <i class="bi bi-calendar3"></i>
                                  </span>
                                  {{ form.date_retour }}
                              </div>
                              {% if form.date_retour.errors %}
                                  <div class="invalid-feedback d-block">
                                      {{ form.date_retour.errors|join:", " }}
                                  </div>
                              {% endif %}
                          </div>
                          
                          <!-- Passagers -->
                          <!-- Passagers -->
                          <div class="flex-grow-1">
                                <label class="form-label small text-muted mb-0">Nombre Place</label>
                                <div class="input-group py-0">
                                      <span class="input-group-text bg-white border-end-0 ps-3">
                                          <i class="bi bi-people-fill text-primary"></i>
                                      </span>
                                      <!-- <input type="number" class="form-control ps-1 py-1 border-start-0" 
                                          id="id_passages" name="passages" min="1" max="10" 
                                          value=""> -->
                                          {{ form.Nombre_place }}
                                </div>
                          </div>
                          
                              
                        </div>
                        <!-- Bouton Rechercher -->
                          <div class="d-flex align-items-center justify-content-center  py-0" style="position: relative; top: -17px;">
                              <button type="submit" class="btn btn-outline-warning py-1">
                                      Rechercher
                              </button>
                          </div>
                          
                          
                      </div>
                      
                  </div>
              </div>
            </form>
            </div>
          <!-- </div> -->
        <div class="container py-4 border-top ">
          <div class="d-flex justify-content-center gap-3">
              <!-- Bouton 1 -->
              <a href="#" class="quick-action-btn text-decoration-none w-50 d-flex justify-content-center align-items-center border py-1 fw-bold ">
                  <i class="bi bi-ticket fs-4 me-2 "></i>
                  <span class="">Gérer ma réservation</span>
              </a>
              
              <!-- Bouton 2 -->
              <a href="{% url 'suivre_recherche' %}" class="quick-action-btn text-decoration-none w-50 d-flex justify-content-center align-items-center border py-1 fw-bold ">
                  <i class="bi bi-bus-front-fill fs-4 me-2"></i>
                  <span>Suivre un trajet</span>
              </a>
              
              <!-- Bouton 3 -->
              <a href="#" class="quick-action-btn text-decoration-none w-50 d-flex justify-content-center align-items-center border py-1 fw-bold  ">
                  <i class="bi bi-info-circle fs-4 me-2"></i>
                  <span>Aide</span>
              </a>
          </div>
      </div>
  <!-- </div> -->
<!-- Section Inspiration () -->
  <section class="container my-5">
    <!-- Titre principal -->
    <h2 class="text-center mb-5 fw-bold">Nous vous connectons au monde</h2>

    <div class="row g-4">
      <!-- Carte 1 : Notre confort en déplacement -->
      <div class=" col-6 col-md-6 col-lg-3 ">
        <div class="card h-100 border-0">
          <div class="card-body text-center">
            <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle mx-auto mb-3" style="width: 80px; height: 80px;">
              <i class="bi bi-emoji-smile fs-3 text-primary"></i>
            </div>
            <h5 class="card-title fw-bold">Notre confort en déplacement</h5>
            <p class="card-text text-muted">
              Sièges ergonomiques, WiFi gratuit et prises USB dans tous nos cars. Voyagez comme à la maison.
            </p>
            <a href="#" class="btn btn-link text-primary p-0">Découvrir <i class="bi bi-arrow-right"></i></a>
          </div>
        </div>
      </div>

      <!-- Carte 2 : Choisissez, réservez, voyagez -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="card h-100 border-0">
          <div class="card-body text-center">
            <div class="icon-wrapper bg-success bg-opacity-10 rounded-circle mx-auto mb-3" style="width: 80px; height: 80px;">
              <i class="bi bi-lightning-charge fs-3 text-success"></i>
            </div>
            <h5 class="card-title fw-bold">Choisissez, réservez, voyagez</h5>
            <p class="card-text text-muted">
              Réservation en 2 minutes. Annulation gratuite jusqu'à 15 minutes avant le départ.
            </p>
            <a href="#" class="btn btn-link text-success p-0">Réserver maintenant <i class="bi bi-arrow-right"></i></a>
          </div>
        </div>
      </div>

      <!-- Carte 3 : Voyagez avec conscience -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="card h-100 border-0">
          <div class="card-body text-center">
            <div class="icon-wrapper bg-warning bg-opacity-10 rounded-circle mx-auto mb-3" style="width: 80px; height: 80px;">
              <i class="bi bi-leaf fs-3 text-warning"></i>
            </div>
            <h5 class="card-title fw-bold">Voyagez avec conscience</h5>
            <p class="card-text text-muted">
              Nos cars émettent 3x moins de CO₂ qu'une voiture. Un choix responsable pour la planète.
            </p>
            <a href="#" class="btn btn-link text-warning p-0">Notre engagement <i class="bi bi-arrow-right"></i></a>
          </div>
        </div>
      </div>

      <!-- Carte 4 : Destinations populaires -->
      <div class=" col-6 col-md-6 col-lg-3">
        <div class="card h-100 border-0">
          <div class="card-body text-center">
            <div class="icon-wrapper bg-info bg-opacity-10 rounded-circle mx-auto mb-3" style="width: 80px; height: 80px;">
              <i class="bi bi-geo fs-3 text-info"></i>
            </div>
            <h5 class="card-title fw-bold">Destinations populaires</h5>
            <p class="card-text text-muted">
              Découvrez 3 000 destinations à travers l'Europe. L'aventure commence ici.
            </p>
            <a href="#" class="btn btn-link text-info p-0">Explorer <i class="bi bi-arrow-right"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div> 

{% endblock %}